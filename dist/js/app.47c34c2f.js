(function(){"use strict";var t={207:function(t,e,a){var n=a(9242),r=a(3396),o=a(7139);const u=(0,r._)("h1",null,"Umi Rate",-1),i={class:"link-cont"},c={class:"info"};function s(t,e,a,n,s,l){const p=(0,r.up)("a-button"),d=(0,r.up)("LangSelect"),f=(0,r.up)("ExchangeForm"),y=(0,r.up)("RateData");return(0,r.wg)(),(0,r.iD)(r.HY,null,[u,(0,r._)("div",i,[(0,r.Wm)(p,{type:"link",href:"https://t.me/dostatok_start_bot",class:"link"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(s.translate.dostatokLink[s.lang]),1)])),_:1}),(0,r.Wm)(p,{type:"link",href:"https://t.me/umipay2_bot",class:"link"},{default:(0,r.w5)((()=>[(0,r.Uk)((0,o.zw)(s.translate.umiBotLink[s.lang]),1)])),_:1})]),(0,r.Wm)(d,{lang:s.lang,"onUpdate:lang":e[0]||(e[0]=t=>s.lang=t),class:"lang-select"},null,8,["lang"]),(0,r.Wm)(f,{cryptoValue:s.cryptoValue,"onUpdate:cryptoValue":e[1]||(e[1]=t=>s.cryptoValue=t),fiatValue:s.fiatValue,"onUpdate:fiatValue":e[2]||(e[2]=t=>s.fiatValue=t),cryptoCurrency:s.cryptoCurrency,"onUpdate:cryptoCurrency":e[3]||(e[3]=t=>s.cryptoCurrency=t),fiatCurrency:s.fiatCurrency,"onUpdate:fiatCurrency":e[4]||(e[4]=t=>s.fiatCurrency=t),focusedInput:s.focusedInput,"onUpdate:focusedInput":e[5]||(e[5]=t=>s.focusedInput=t),class:"app_form"},null,8,["cryptoValue","fiatValue","cryptoCurrency","fiatCurrency","focusedInput"]),(0,r.Wm)(y,{cryptoRate:s.cryptoRate,lang:s.lang,translate:s.translate},null,8,["cryptoRate","lang","translate"]),(0,r._)("p",c,(0,o.zw)(s.translate.dateOfLastUpdate[s.lang])+": "+(0,o.zw)(s.lastUpdate),1)],64)}var l=a(252);function p(t,e,a,n,o,u){const i=(0,r.up)("a-select-option"),c=(0,r.up)("a-select"),s=(0,r.up)("a-input-number");return(0,r.wg)(),(0,r.iD)("form",null,[(0,r.Wm)(s,{onFocus:e[1]||(e[1]=e=>t.$emit("update:focusedInput",e.target.id)),onChange:e[2]||(e[2]=e=>t.$emit("update:cryptoValue",e)),value:a.cryptoValue,min:0,id:"cryptoInput"},{addonAfter:(0,r.w5)((()=>[(0,r.Wm)(c,{value:a.cryptoCurrency,onChange:e[0]||(e[0]=e=>t.$emit("update:cryptoCurrency",e)),style:{width:"80px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{value:"UMI"},{default:(0,r.w5)((()=>[(0,r.Uk)("UMI")])),_:1}),(0,r.Wm)(i,{value:"GLZ"},{default:(0,r.w5)((()=>[(0,r.Uk)("GLZ")])),_:1})])),_:1},8,["value"])])),_:1},8,["value"]),(0,r.Wm)(s,{onFocus:e[4]||(e[4]=e=>t.$emit("update:focusedInput",e.target.id)),onChange:e[5]||(e[5]=e=>t.$emit("update:fiatValue",e)),value:a.fiatValue,min:0,id:"fiatInput"},{addonAfter:(0,r.w5)((()=>[(0,r.Wm)(c,{value:a.fiatCurrency,onChange:e[3]||(e[3]=e=>t.$emit("update:fiatCurrency",e)),style:{width:"80px"}},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{value:"USD"},{default:(0,r.w5)((()=>[(0,r.Uk)("USD")])),_:1}),(0,r.Wm)(i,{value:"RUB"},{default:(0,r.w5)((()=>[(0,r.Uk)("RUB")])),_:1}),(0,r.Wm)(i,{value:"UZS"},{default:(0,r.w5)((()=>[(0,r.Uk)("UZS")])),_:1})])),_:1},8,["value"])])),_:1},8,["value"])])}var d={props:{cryptoValue:Number,fiatValue:Number,cryptoCurrency:String,fiatCurrency:String,focusedInput:String}},f=a(89);const y=(0,f.Z)(d,[["render",p],["__scopeId","data-v-4fa92578"]]);var h=y;const U={class:"header"},g={class:"data"},m={class:"inner"};function R(t,e,a,n,u,i){const c=(0,r.up)("a-spin"),s=(0,r.up)("a-timeline-item"),l=(0,r.up)("a-timeline");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r._)("h3",U,(0,o.zw)(this.translate.rateDataHeader[this.lang]),1),(0,r._)("div",g,[i.dataLoaded?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(c,{key:0,tip:this.translate.loaderTip[this.lang],class:"spin"},null,8,["tip"])),i.dataLoaded?((0,r.wg)(),(0,r.iD)(r.HY,{key:1},(0,r.Ko)(["UMI","GLZ"],(t=>(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.valueList,(e=>((0,r.wg)(),(0,r.j4)(s,null,{default:(0,r.w5)((()=>[(0,r._)("div",m,(0,o.zw)(e)+" "+(0,o.zw)(t)+" = "+(0,o.zw)((a.cryptoRate[t].USD*e).toFixed(2))+" USD / "+(0,o.zw)((a.cryptoRate[t].RUB*e).toFixed(2))+" RUB / "+(0,o.zw)((a.cryptoRate[t].UZS*e).toFixed(2))+" UZS ",1)])),_:2},1024)))),256))])),_:2},1024))),64)):(0,r.kq)("",!0)])],64)}var v={props:{cryptoRate:Object,lang:String,translate:Object},data(){return{valueList:[1,4400,44e3,66e3,88e3,1e5]}},computed:{dataLoaded(){return!!(this.cryptoRate&&this.cryptoRate.UMI.USD&&this.cryptoRate.UMI.RUB&&this.cryptoRate.UMI.UZS&&this.cryptoRate.UMI.GLZ)}}};const w=(0,f.Z)(v,[["render",R],["__scopeId","data-v-30c7a524"]]);var I=w,S=a.p+"img/ru.6d651e8b.svg",C=a.p+"img/gb.90bfbf6e.svg";const _={class:"lang-select"};function Z(t,e,a,n,o,u){return(0,r.wg)(),(0,r.iD)("div",_,[(0,r._)("img",{src:S,alt:"",onClick:e[0]||(e[0]=e=>t.$emit("update:lang","ru"))}),(0,r._)("img",{src:C,alt:"",onClick:e[1]||(e[1]=e=>t.$emit("update:lang","en"))})])}var k={props:{lang:String}};const D=(0,f.Z)(k,[["render",Z]]);var b=D,L=JSON.parse('{"dostatokLink":{"en":"Game DoStaTok","ru":"Игра ДоСтаТок"},"umiBotLink":{"en":"UmiPay2 - pay in UMI in Telegram","ru":"UmiPay2 - плати в UMI в Телеграм"},"messageUmiDataError":{"en":"Did not manage to load UMI data","ru":"Произошла ошибка при загрузке курса UMI"},"messageUzsDataError":{"en":"Did not manage to load UZS data","ru":"Произошла ошибка при загрузке курса UZS"},"dateOfLastUpdate":{"en":"The rates were updated","ru":"Данные были загружены"},"rateDataHeader":{"en":"Right now","ru":"Прямо сейчас"},"loaderTip":{"en":"Loading...","ru":"Загрузка..."}}'),M={name:"App",data(){return{lang:"ru",translate:L,cryptoValue:0,fiatValue:0,cryptoCurrency:"UMI",fiatCurrency:"USD",focusedInput:null,cryptoRate:{UMI:{USD:null,RUB:null,UZS:null,GLZ:null},GLZ:{USD:null,RUB:null,UZS:null}},lastUpdate:"..."}},methods:{async fetchCryptoRate(){return await fetch("https://stats.umi.top/rates").then((t=>t.json()))},async fetchUzsRate(){return await fetch("/get_uzs_rate").then((t=>t.json())).then((t=>t.filter((t=>"USD"==t.code)))).then((t=>t[0].cb_price))},async setCryptoRate(){let t=await this.fetchCryptoRate().catch((t=>{console.log(t),l.ZP.error(L.messageUmiDataError[this.lang])}));t&&(this.cryptoRate.UMI.USD=+t.data.USD.value,this.cryptoRate.UMI.RUB=+t.data.RUB.value,this.cryptoRate.UMI.GLZ=+t.tokens.GLZ.value,this.cryptoRate.GLZ.USD=this.cryptoRate.UMI.USD/this.cryptoRate.UMI.GLZ,this.cryptoRate.GLZ.RUB=this.cryptoRate.UMI.RUB/this.cryptoRate.UMI.GLZ)},async setUzsRate(){let t=await this.fetchUzsRate().catch((t=>{console.log(t),l.ZP.error(L.messageUzsDataError[this.lang])}));t&&(this.cryptoRate.UMI.UZS=this.cryptoRate.UMI.USD*t,this.cryptoRate.GLZ.UZS=this.cryptoRate.UMI.UZS/this.cryptoRate.UMI.GLZ)},async setRates(t=!1){t||(this.cryptoRate={UMI:{},GLZ:{}}),await this.setCryptoRate(!1),await this.setUzsRate(!1),this.lastUpdate=(new Date).toLocaleString()},updateClickHandler(){this.setRates()}},components:{ExchangeForm:h,RateData:I,LangSelect:b},async mounted(){this.setRates(),setInterval((()=>{this.setRates(!0)}),58e3)},watch:{cryptoValue(t){"fiatInput"!=this.focusedInput&&(this.fiatValue=+(t*this.cryptoRate[this.cryptoCurrency][this.fiatCurrency]).toFixed(2))},fiatValue(t){"cryptoInput"!=this.focusedInput&&(this.cryptoValue=+(t/this.cryptoRate[this.cryptoCurrency][this.fiatCurrency]).toFixed(2))},fiatCurrency(t){this.fiatValue=+(this.cryptoValue*this.cryptoRate[this.cryptoCurrency][t]).toFixed(2)},cryptoCurrency(t){this.fiatValue=+(this.cryptoValue*this.cryptoRate[t][this.fiatCurrency]).toFixed(2)}}};const V=(0,f.Z)(M,[["render",s]]);var x=V,O=a(7120);a(2467);(0,n.ri)(x).use(O.ZP).mount("#app")}},e={};function a(n){var r=e[n];if(void 0!==r)return r.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,a),o.exports}a.m=t,function(){var t=[];a.O=function(e,n,r,o){if(!n){var u=1/0;for(l=0;l<t.length;l++){n=t[l][0],r=t[l][1],o=t[l][2];for(var i=!0,c=0;c<n.length;c++)(!1&o||u>=o)&&Object.keys(a.O).every((function(t){return a.O[t](n[c])}))?n.splice(c--,1):(i=!1,o<u&&(u=o));if(i){t.splice(l--,1);var s=r();void 0!==s&&(e=s)}}return e}o=o||0;for(var l=t.length;l>0&&t[l-1][2]>o;l--)t[l]=t[l-1];t[l]=[n,r,o]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var n in e)a.o(e,n)&&!a.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var t={143:0};a.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,o,u=n[0],i=n[1],c=n[2],s=0;if(u.some((function(e){return 0!==t[e]}))){for(r in i)a.o(i,r)&&(a.m[r]=i[r]);if(c)var l=c(a)}for(e&&e(n);s<u.length;s++)o=u[s],a.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return a.O(l)},n=self["webpackChunkexchange"]=self["webpackChunkexchange"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(207)}));n=a.O(n)})();
//# sourceMappingURL=app.47c34c2f.js.map